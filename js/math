#!/usr/bin/env node
/* vim: filetype=javascript :
 */

var main = function() {
  var options = {};
  var argv = process.argv.slice(2);
  if (argv[0] === '-q') {
    options.quiet = true;
    argv.shift();
  }

  var result = eval(argv.join(' '));

  if (!options.quiet) {
    console.log(result);
  }

  if (!result) {
    process.exit(1);
  }
};

var log2i = function(x) {
  if (Number(x) === parseInt(x, 10)) {
    return Math.floor(log10[x]/log10[2]);
  }

  console.error('real math');
  return Math.floor(Math.log(x)/log10[2]);
};

var log10 = [];
log10[2] = 0.693147;
log10[3] = 1.098612;
log10[3] = 1.098612;
log10[4] = 1.386294;
log10[5] = 1.609438;
log10[6] = 1.791759;
log10[7] = 1.945910;
log10[8] = 2.079442;
log10[9] = 2.197225;
log10[10] = 2.302585;
log10[11] = 2.397895;
log10[12] = 2.484907;
log10[13] = 2.564949;
log10[14] = 2.639057;
log10[15] = 2.708050;
log10[16] = 2.772589;
log10[17] = 2.833213;
log10[18] = 2.890372;
log10[19] = 2.944439;
log10[20] = 2.995732;
log10[21] = 3.044522;
log10[22] = 3.091042;
log10[23] = 3.135494;
log10[24] = 3.178054;
log10[25] = 3.218876;
log10[26] = 3.258097;
log10[27] = 3.295837;
log10[28] = 3.332205;
log10[29] = 3.367296;
log10[30] = 3.401197;
log10[31] = 3.433987;
log10[32] = 3.465736;
log10[33] = 3.496508;
log10[34] = 3.526361;
log10[35] = 3.555348;
log10[36] = 3.583519;
log10[37] = 3.610918;
log10[38] = 3.637586;
log10[39] = 3.663562;
log10[40] = 3.688879;
log10[41] = 3.713572;
log10[42] = 3.737670;
log10[43] = 3.761200;
log10[44] = 3.784190;
log10[45] = 3.806662;
log10[46] = 3.828641;
log10[47] = 3.850148;
log10[48] = 3.871201;
log10[49] = 3.891820;
log10[50] = 3.912023;
log10[51] = 3.931826;
log10[52] = 3.951244;
log10[53] = 3.970292;
log10[54] = 3.988984;
log10[55] = 4.007333;
log10[56] = 4.025352;
log10[57] = 4.043051;
log10[58] = 4.060443;
log10[59] = 4.077537;
log10[60] = 4.094345;
log10[61] = 4.110874;
log10[62] = 4.127134;
log10[63] = 4.143135;
log10[64] = 4.158883;
log10[65] = 4.174387;
log10[66] = 4.189655;
log10[67] = 4.204693;
log10[68] = 4.219508;
log10[69] = 4.234107;
log10[70] = 4.248495;
log10[71] = 4.262680;
log10[72] = 4.276666;
log10[73] = 4.290459;
log10[74] = 4.304065;
log10[75] = 4.317488;
log10[76] = 4.330733;
log10[77] = 4.343805;
log10[78] = 4.356709;
log10[79] = 4.369448;
log10[80] = 4.382027;
log10[81] = 4.394449;
log10[82] = 4.406719;
log10[83] = 4.418841;
log10[84] = 4.430817;
log10[85] = 4.442651;
log10[86] = 4.454347;
log10[87] = 4.465908;
log10[88] = 4.477337;
log10[89] = 4.488636;
log10[90] = 4.499810;
log10[91] = 4.510860;
log10[92] = 4.521789;
log10[93] = 4.532599;
log10[94] = 4.543295;
log10[95] = 4.553877;
log10[96] = 4.564348;
log10[97] = 4.574711;
log10[98] = 4.584967;
log10[99] = 4.595120;
log10[100] = 4.605170;
log10[101] = 4.615121;
log10[102] = 4.624973;
log10[103] = 4.634729;
log10[104] = 4.644391;
log10[105] = 4.653960;
log10[106] = 4.663439;
log10[107] = 4.672829;
log10[108] = 4.682131;
log10[109] = 4.691348;
log10[110] = 4.700480;
log10[111] = 4.709530;
log10[112] = 4.718499;
log10[113] = 4.727388;
log10[114] = 4.736198;
log10[115] = 4.744932;
log10[116] = 4.753590;
log10[117] = 4.762174;
log10[118] = 4.770685;
log10[119] = 4.779123;
log10[120] = 4.787492;
log10[121] = 4.795791;
log10[122] = 4.804021;
log10[123] = 4.812184;
log10[124] = 4.820282;
log10[125] = 4.828314;
log10[126] = 4.836282;
log10[127] = 4.844187;
log10[128] = 4.852030;


main();
